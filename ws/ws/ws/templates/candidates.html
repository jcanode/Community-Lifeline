{% extends "layout.html" %}

{% block content %}

<h2>{{ title }}</h2>

<table id="myTable" class="table table-hover" style="width:100%">
    <thead>
        <tr>
            <th>Name</th>
            <th>Age</th>
            <th>Phone</th>
            <th>Email</th>
            <th>Address</th>
            <th>Compatability Score</th>
            <th>Full Profile</th>
            <th>Links</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>


{% endblock %}

{% block scripts %}

<script>
    $(document).ready(function () {
        $('#myTable').DataTable({
            serverSide: true,
            ajax: {
                url: '/api/users',
                type: 'GET'
            },
            bSort: false,
            columns: [
                { data: "name" },
                { data: "age" },
                { data: "phone" },
                { data: "email" },
                { data: "address" },
                { data: "score" },
                { data: "full profile" },
                { data: null, render: function (data, type, row) {
                    return '<a href="social_media_flags?id=' + row["id"] + '">Social Media Flags</a>'
                }}
            ]
        });
    });
</script>

{% endblock %}